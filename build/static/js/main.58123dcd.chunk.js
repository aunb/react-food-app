(this["webpackJsonpreact-food-recipe"]=this["webpackJsonpreact-food-recipe"]||[]).push([[0],{37:function(e,t,a){e.exports=a(68)},42:function(e,t,a){},43:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),s=(a(42),a(11)),l=(a(43),a(3)),i=function(e){var t=e.search,a=e.onInputChange,n=e.onSearchClick;return r.a.createElement("div",{className:"jumbotron"},r.a.createElement(l.b,{to:"/"}," ",r.a.createElement("i",{className:"material-icons brand-icon"},"fastfood"))," ",r.a.createElement("h3",null,"Food Recipe"),r.a.createElement("div",{className:"input-group w-50 mx-auto"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search Your Recipe...",value:t,onChange:a}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-dark",onClick:n},"Recipe"),r.a.createElement(l.b,{className:"btn btn-dark",to:"/users"},"User"))))};var u=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4"},r.a.createElement("div",null,e.children)))},p=function(e){var t=e.id,a=e.title,n=e.image,c=e.type,o=e.description;return r.a.createElement("div",{className:"card py-3 mb-4 text-center",key:t},r.a.createElement("img",{src:"http://localhost:8000/images/".concat(n),style:{height:"175px",width:"175px"},className:" img-fluid mb-4 ".concat("all_post"===c?"w-50 rounded-circle":"w-100"," mx-auto "),alt:"img not found"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"py-2"},a.toUpperCase()),r.a.createElement("div",{className:"list-group-item"},o.toUpperCase()),r.a.createElement("br",null)),"all_post"===c?r.a.createElement(l.b,{className:"btn btn-info text-white",to:"view/".concat(t)},"Read More"):"")},m=a(4),d=a(10),E=a.n(d),f=a(2),g=a.n(f),b=a(12),h="GET_USER_SUCCESS",v="GET_POST_SUCCESS",y=a(33),O=a(34),j="http://127.0.0.1:8000/api/",N=new(function(){function e(){Object(y.a)(this,e)}return Object(O.a)(e,[{key:"getpost",value:function(){return E.a.get(j+"post")}},{key:"searchPost",value:function(e){return E.a.post(j+"search_posts",e)}},{key:"paginationPost",value:function(e){return E.a.post(j+"pagination",e)}},{key:"getuser",value:function(){return E.a.get(j+"contacts")}}]),e}()),S=function(){return function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_POST_PENDING",payload:{posts:"isloading"}}),e.next=3,N.getpost().then((function(e){return 200===e.data.status?t({type:v,payload:{posts:e.data.data,count:e.data.countposts}}):t({type:"GET_POST_FAIL"}),Promise.resolve()}),(function(e){console.log("error......",e);var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return t({type:"GET_POST_FAIL"}),console.log(a),Promise.reject()})).catch((function(e){console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(b.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"GET_POST_PENDING",payload:{posts:"isloading"}}),t.next=3,N.searchPost(e).then((function(e){return 200===e.data.status?a({type:v,payload:{posts:e.data.data,count:e.data.countposts}}):a({type:"GET_POST_FAIL"}),Promise.resolve()}),(function(e){console.log("error......",e);var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return a({type:"GET_POST_FAIL"}),console.log(t),Promise.reject()})).catch((function(e){console.log(e)}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(e){var t=Object(m.b)(),a=Object(m.c)((function(e){return e.allposts.posts}));return Object(n.useEffect)((function(){E.a.interceptors.response.use((function(e){return e}),(function(e){401===e.response.status?(localStorage.removeItem("user"),localStorage.removeItem("permissionsList"),window.location.href="/login"):e.response.status})),t(S())}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-12"},r.a.createElement(l.b,{to:"/create/recipes"},"Create Post")),r.a.createElement("hr",null),"isloading"===a?r.a.createElement("h2",null,"loading ..."):r.a.createElement("div",{className:"card-columns"},a.map((function(e){return r.a.createElement(p,{key:e.id,id:e.id,type:"all_post",title:e.title,image:e.image,description:e.description})}))))},P=a(1),x=function(e){var t=Object(P.f)(),a=Object(n.useState)(""),c=Object(s.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)(""),p=Object(s.a)(u,2),m=p[0],d=p[1],f=Object(n.useState)(null),h=Object(s.a)(f,2),v=h[0],y=h[1],O=function(){var e=Object(b.a)(g.a.mark((function e(a){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("title",o),n.append("description",m),n.append("image",v),console.log("selectedImage",v),a.preventDefault(),e.next=8,E()({method:"post",url:"http://localhost:8000/api/post",data:n,headers:{"Content-Type":"multipart/form-data"}});case 8:r=e.sent,console.log("responce",r),t.push("/");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{method:"post",onSubmit:function(e){return O(e)}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement(l.b,{to:"/",className:"btn btn-link"},"View post"),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Title"),r.a.createElement("input",{type:"text",className:"form-control",onChange:function(e){return i(e.target.value)},value:o,id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter Title here"})),r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Image"),r.a.createElement("input",{type:"file",className:"form-control",onChange:function(e){y(e.target.files[0])},id:"exampleInputPassword1",placeholder:"image"})),r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Description"),r.a.createElement("textarea",{className:"form-control",onChange:function(e){return d(e.target.value)},value:m,id:"exampleInputPassword1",placeholder:"Enter Description here"})),r.a.createElement("div",{className:"form-group col-md-12 float-right"},r.a.createElement("button",{type:"submit",className:"btn btn-primary float-right"},"Submit")))))},T=function(e){var t=Object(m.b)(),a=Object(m.c)((function(e){return e.allposts.posts}));Object(n.useEffect)((function(){t(S())}),[t]);var c=Object(P.g)().id,o=Object(n.useState)(""),l=Object(s.a)(o,2),i=l[0],u=l[1],d=Object(n.useState)(""),f=Object(s.a)(d,2),h=f[0],v=f[1],y=Object(n.useState)(""),O=Object(s.a)(y,2),j=O[0],N=O[1],_=Object(n.useState)(""),w=Object(s.a)(_,2),x=w[0],T=w[1];return Object(n.useEffect)((function(){(function(){var e=Object(b.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("http://127.0.0.1:8000/api/post/".concat(c,"/edit"));case 2:t=e.sent,a=t.data,N(a.data.id),u(a.data.title),T(a.data.description),v(a.data.image);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c]),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"card col-md-6"},r.a.createElement(p,{key:j,title:i,type:"single_post",image:h,description:x})),r.a.createElement("div",{className:"card col-md-6"},"isloading"===a?r.a.createElement("h2",null,"loading ..."):r.a.createElement("div",null,a.map((function(e){return e.id!==j?r.a.createElement(p,{key:e.id,id:e.id,type:"single_post",title:e.title,image:e.image,description:e.description}):""})))))},k=function(e){var t=Object(m.b)(),a=Object(m.c)((function(e){return e.allusers.getusers}));return Object(n.useEffect)((function(){t(function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_USER_PENDING",payload:"isloading"}),e.next=3,N.getuser().then((function(e){return console.log("users action",e.data),200===e.data.status?t({type:h,payload:{users:e.data.data}}):t({type:"GET_USER_FAIL"}),Promise.resolve()}),(function(e){console.log("error......",e);var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return t({type:"GET_USER_FAIL"}),console.log(a),Promise.reject()})).catch((function(e){console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-12"},r.a.createElement(l.b,{to:"/create/recipes"},"Create Post")),r.a.createElement("hr",null),r.a.createElement("table",{className:"table "},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Full Name"),r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("th",{scope:"col"},"Phone Number"))),r.a.createElement("tbody",null,"isloading"===a||void 0===a?"laoding ...":a.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",{scope:"row"},e.id),r.a.createElement("td",null,e.fullname),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.phone))})))))};var I=function(){for(var e=Object(m.b)(),t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],o=a[1],p={search:c},d=function(t){var a={page_id:t.currentTarget.id,search:c};e(function(e){return function(){var t=Object(b.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"GET_POST_PENDING",payload:{posts:"isloading"}}),t.next=3,N.paginationPost(e).then((function(e){return console.log("req pagination",e),200===e.data.status?a({type:v,payload:{posts:e.data.data,count:e.data.countposts}}):a({type:"GET_POST_FAIL"}),Promise.resolve()}),(function(e){console.log("error......",e);var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return a({type:"GET_POST_FAIL"}),console.log(t),Promise.reject()})).catch((function(e){console.log(e)}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a))},E=Object(m.c)((function(e){return e.allposts.count}))/2,f=[],h=1;h<=E;h++)f.push(r.a.createElement("span",{key:h},r.a.createElement("span",{style:{fontSize:"30px"},id:h,onClick:d},r.a.createElement("button",{style:{background:"red",paddingRight:"12px",color:"white"},type:"button"},"\xa0",h))));return r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(i,{search:c,onInputChange:function(t){o(t.target.value),e(_(p))},onSearchClick:function(){e(_(p))},backtohome:function(){o(""),e(S())}}),r.a.createElement("div",{className:"container"},r.a.createElement(P.c,null,r.a.createElement(P.a,{path:"/create/recipes",exact:!0},r.a.createElement(x,null)),r.a.createElement(u,null,r.a.createElement(P.c,null,r.a.createElement(P.a,{path:"/",exact:!0},r.a.createElement(w,{onPagination:d,list:f})),r.a.createElement(P.a,{path:"/users",exact:!0},r.a.createElement(k,null)),r.a.createElement(P.a,{path:"/view/:id",exact:!0},r.a.createElement(T,null))))))))},G=a(15),C=a(16),F={posts:[],count:""},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case v:return Object(C.a)({},e,{posts:n.posts,count:n.count});case"GET_POST_PENDING":return Object(C.a)({},e,{posts:n.posts});default:return e}},R={getusers:[]},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case h:return Object(C.a)({},e,{getusers:n.users});case"GET_USER_PENDING":return Object(C.a)({},e,{getusers:n});default:return e}},A=Object(G.combineReducers)({allposts:D,allusers:U}),L=a(35),M=[a(36).a],J=Object(G.createStore)(A,Object(L.composeWithDevTools)(G.applyMiddleware.apply(void 0,M)));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{store:J},r.a.createElement(I,null))),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.58123dcd.chunk.js.map